name: https-client
summary: A simple example charm to test HTTPS relations with LXD
maintainers:
  - Simon Deziel <simon.deziel@canonical.com>
description: |
  A simple example charm to test HTTPS relations with LXD
requires:
  https:
    interface: lxd-https

type: charm
platforms:
  ubuntu@24.04:amd64:
  ubuntu@24.04:arm64:
  ubuntu@24.04:armhf:
  ubuntu@24.04:ppc64el:
  ubuntu@24.04:riscv64:
  ubuntu@24.04:s390x:

parts:
  charm:
    build-packages:
    - cargo
    - git
    - libffi-dev
    - libssl-dev
    - pkg-config
    - rustc
    charm-entrypoint: src/https-client.py

config:
  options:
    projects:
      description: |
        Comma separated list of projects to give access to.
        If not provided, the client will have full unrestricted access
        to everything. If however the projects list is an empty list,
        the client will not have access to anything.
      type: string
